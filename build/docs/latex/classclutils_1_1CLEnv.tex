\hypertarget{classclutils_1_1CLEnv}{}\section{clutils\+:\+:C\+L\+Env Class Reference}
\label{classclutils_1_1CLEnv}\index{clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}}


Sets up an Open\+C\+L environment.  




{\ttfamily \#include $<$C\+L\+Utils.\+hpp$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classclutils_1_1CLEnv_a8d2e3ea8b8d76fdc42960471a7c63ae7}{C\+L\+Env} (const std\+::vector$<$ std\+::string $>$ \&kernel\+\_\+filenames=std\+::vector$<$ std\+::string $>$(), const char $\ast$build\+\_\+options=N\+U\+L\+L)
\item 
\hyperlink{classclutils_1_1CLEnv_aac298f957d30dc881ef7f4931047c9a0}{C\+L\+Env} (const std\+::string \&kernel\+\_\+filename, const char $\ast$build\+\_\+options=N\+U\+L\+L)
\begin{DoxyCompactList}\small\item\em Delegating constructor. \end{DoxyCompactList}\item 
cl\+::\+Context \& \hyperlink{classclutils_1_1CLEnv_a939a2a5213fb9f7554ff789e83693577}{get\+Context} (unsigned int p\+Idx=0)
\begin{DoxyCompactList}\small\item\em Gets back one of the existing contexts. \end{DoxyCompactList}\item 
cl\+::\+Command\+Queue \& \hyperlink{classclutils_1_1CLEnv_a250da9d0e00e63294845b940c7fee376}{get\+Queue} (unsigned int ct\+Idx=0, unsigned int q\+Idx=0)
\begin{DoxyCompactList}\small\item\em Gets back one of the existing command queues in the specified context. \end{DoxyCompactList}\item 
cl\+::\+Kernel \& \hyperlink{classclutils_1_1CLEnv_a3d8ed78d2a977da3e3468de81efe198d}{get\+Kernel} (const char $\ast$kernel\+Name, unsigned int pg\+Idx=0)
\begin{DoxyCompactList}\small\item\em Gets back one of the existing kernels in some program. \end{DoxyCompactList}\item 
cl\+::\+Context \& \hyperlink{classclutils_1_1CLEnv_ad22757b987c46b6134c6c16710dabb4a}{add\+Context} (unsigned int p\+Idx)
\begin{DoxyCompactList}\small\item\em Creates a context for all devices in the requested platform. \end{DoxyCompactList}\item 
cl\+::\+Command\+Queue \& \hyperlink{classclutils_1_1CLEnv_ac965d696bc25fb3bc95d601e0e157872}{add\+Queue} (unsigned int ct\+Idx, unsigned int d\+Idx)
\begin{DoxyCompactList}\small\item\em Creates a queue for the specified device in the specified context. \end{DoxyCompactList}\item 
cl\+::\+Kernel \& \hyperlink{classclutils_1_1CLEnv_a05987337a3df8feb7ccfa749f5347fac}{add\+Program} (unsigned int ct\+Idx, const std\+::vector$<$ std\+::string $>$ \&kernel\+\_\+filenames, const char $\ast$kernel\+\_\+name=N\+U\+L\+L, const char $\ast$build\+\_\+options=N\+U\+L\+L)
\begin{DoxyCompactList}\small\item\em Creates a program for the specified context. \end{DoxyCompactList}\item 
cl\+::\+Kernel \& \hyperlink{classclutils_1_1CLEnv_a08691649ccbacc817997ebe989d38171}{add\+Program} (unsigned int ct\+Idx, const std\+::string \&kernel\+\_\+filename, const char $\ast$kernel\+\_\+name=N\+U\+L\+L, const char $\ast$build\+\_\+options=N\+U\+L\+L)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classclutils_1_1CLEnv_af953f5e94ebba268f7118f9316d371b4}{}std\+::vector$<$ cl\+::\+Platform $>$ {\bfseries platforms}\label{classclutils_1_1CLEnv_af953f5e94ebba268f7118f9316d371b4}

\item 
\hypertarget{classclutils_1_1CLEnv_a39ace0c346123dda3968a4199fa92b4d}{}std\+::vector$<$ std\+::vector$<$ cl\+::\+Device $>$ $>$ \hyperlink{classclutils_1_1CLEnv_a39ace0c346123dda3968a4199fa92b4d}{devices}\label{classclutils_1_1CLEnv_a39ace0c346123dda3968a4199fa92b4d}

\begin{DoxyCompactList}\small\item\em Holds a vector of devices per platform. \end{DoxyCompactList}\item 
\hypertarget{classclutils_1_1CLEnv_a4e85a17a865041fa67b28dc28f981263}{}std\+::vector$<$ cl\+::\+Context $>$ {\bfseries contexts}\label{classclutils_1_1CLEnv_a4e85a17a865041fa67b28dc28f981263}

\item 
\hypertarget{classclutils_1_1CLEnv_a15687c9c11699256fa5994310c017938}{}std\+::vector$<$ std\+::vector$<$ cl\+::\+Command\+Queue $>$ $>$ \hyperlink{classclutils_1_1CLEnv_a15687c9c11699256fa5994310c017938}{queues}\label{classclutils_1_1CLEnv_a15687c9c11699256fa5994310c017938}

\begin{DoxyCompactList}\small\item\em Holds a vector of queues per context. \end{DoxyCompactList}\item 
\hypertarget{classclutils_1_1CLEnv_ac7f5712102c9b10f259697712ecd08c3}{}std\+::vector$<$ cl\+::\+Program $>$ {\bfseries programs}\label{classclutils_1_1CLEnv_ac7f5712102c9b10f259697712ecd08c3}

\item 
\hypertarget{classclutils_1_1CLEnv_a50c76733a023493150ac2844d544513b}{}std\+::vector$<$ std\+::vector$<$ cl\+::\+Kernel $>$ $>$ \hyperlink{classclutils_1_1CLEnv_a50c76733a023493150ac2844d544513b}{kernels}\label{classclutils_1_1CLEnv_a50c76733a023493150ac2844d544513b}

\begin{DoxyCompactList}\small\item\em Holds a vector of kernels per program. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Sets up an Open\+C\+L environment. 

Prepares the essential Open\+C\+L objects for the execution of kernels. This class aims to allow rapid prototyping by hiding away all the boilerplate code necessary for establishing an Open\+C\+L environment. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classclutils_1_1CLEnv_a8d2e3ea8b8d76fdc42960471a7c63ae7}{}\index{clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}!C\+L\+Env@{C\+L\+Env}}
\index{C\+L\+Env@{C\+L\+Env}!clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}}
\subsubsection[{C\+L\+Env}]{\setlength{\rightskip}{0pt plus 5cm}clutils\+::\+C\+L\+Env\+::\+C\+L\+Env (
\begin{DoxyParamCaption}
\item[{const std\+::vector$<$ std\+::string $>$ \&}]{kernel\+\_\+filenames = {\ttfamily std\+:\+:vector$<$std\+:\+:string$>$~()}, }
\item[{const char $\ast$}]{build\+\_\+options = {\ttfamily NULL}}
\end{DoxyParamCaption}
)}\label{classclutils_1_1CLEnv_a8d2e3ea8b8d76fdc42960471a7c63ae7}
It initializes the Open\+C\+L environment. If a {\ttfamily kernel\+\_\+filenames} argument is provided, it creates a context for all the devices in the first platform, and a command queue for the first device in that platform. It also builds a program object from all the requested kernel files, and extracts all kernels in that program.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em kernel\+\_\+filenames} & a vector of strings with the names of the kernel files (.cl). \\
\hline
\mbox{\tt in}  & {\em build\+\_\+options} & options that are forwarded to the Open\+C\+L compiler. \\
\hline
\end{DoxyParams}
\hypertarget{classclutils_1_1CLEnv_aac298f957d30dc881ef7f4931047c9a0}{}\index{clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}!C\+L\+Env@{C\+L\+Env}}
\index{C\+L\+Env@{C\+L\+Env}!clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}}
\subsubsection[{C\+L\+Env}]{\setlength{\rightskip}{0pt plus 5cm}clutils\+::\+C\+L\+Env\+::\+C\+L\+Env (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{kernel\+\_\+filename, }
\item[{const char $\ast$}]{build\+\_\+options = {\ttfamily NULL}}
\end{DoxyParamCaption}
)}\label{classclutils_1_1CLEnv_aac298f957d30dc881ef7f4931047c9a0}


Delegating constructor. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em kernel\+\_\+filename} & a string with the name of the kernel file (.cl). \\
\hline
\mbox{\tt in}  & {\em build\+\_\+options} & options that are forwarded to the Open\+C\+L compiler. \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\hypertarget{classclutils_1_1CLEnv_ad22757b987c46b6134c6c16710dabb4a}{}\index{clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}!add\+Context@{add\+Context}}
\index{add\+Context@{add\+Context}!clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}}
\subsubsection[{add\+Context}]{\setlength{\rightskip}{0pt plus 5cm}cl\+::\+Context \& clutils\+::\+C\+L\+Env\+::add\+Context (
\begin{DoxyParamCaption}
\item[{unsigned int}]{p\+Idx}
\end{DoxyParamCaption}
)}\label{classclutils_1_1CLEnv_ad22757b987c46b6134c6c16710dabb4a}


Creates a context for all devices in the requested platform. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em p\+Idx} & an index for the platform for which to create the context. Indices follow the order the platforms got returned in by the Open\+C\+L runtime. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A reference to the created context. 
\end{DoxyReturn}
\hypertarget{classclutils_1_1CLEnv_a05987337a3df8feb7ccfa749f5347fac}{}\index{clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}!add\+Program@{add\+Program}}
\index{add\+Program@{add\+Program}!clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}}
\subsubsection[{add\+Program}]{\setlength{\rightskip}{0pt plus 5cm}cl\+::\+Kernel \& clutils\+::\+C\+L\+Env\+::add\+Program (
\begin{DoxyParamCaption}
\item[{unsigned int}]{ct\+Idx, }
\item[{const std\+::vector$<$ std\+::string $>$ \&}]{kernel\+\_\+filenames, }
\item[{const char $\ast$}]{kernel\+\_\+name = {\ttfamily NULL}, }
\item[{const char $\ast$}]{build\+\_\+options = {\ttfamily NULL}}
\end{DoxyParamCaption}
)}\label{classclutils_1_1CLEnv_a05987337a3df8feb7ccfa749f5347fac}


Creates a program for the specified context. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ct\+Idx} & the index of the context the program is associated with. Indices follow the order the contexts were created in. \\
\hline
\mbox{\tt in}  & {\em kernel\+\_\+filenames} & a vector of strings with the names of the kernel files (.cl). \\
\hline
\mbox{\tt in}  & {\em kernel\+\_\+name} & the name of a requested kernel. \\
\hline
\mbox{\tt in}  & {\em build\+\_\+options} & options that are forwarded to the Open\+C\+L compiler. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The requested kernel. If kernel\+\_\+name is N\+U\+L\+L, the first kernel of the program gets returned. 
\end{DoxyReturn}
\hypertarget{classclutils_1_1CLEnv_a08691649ccbacc817997ebe989d38171}{}\index{clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}!add\+Program@{add\+Program}}
\index{add\+Program@{add\+Program}!clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}}
\subsubsection[{add\+Program}]{\setlength{\rightskip}{0pt plus 5cm}cl\+::\+Kernel \& clutils\+::\+C\+L\+Env\+::add\+Program (
\begin{DoxyParamCaption}
\item[{unsigned int}]{ct\+Idx, }
\item[{const std\+::string \&}]{kernel\+\_\+filename, }
\item[{const char $\ast$}]{kernel\+\_\+name = {\ttfamily NULL}, }
\item[{const char $\ast$}]{build\+\_\+options = {\ttfamily NULL}}
\end{DoxyParamCaption}
)}\label{classclutils_1_1CLEnv_a08691649ccbacc817997ebe989d38171}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ct\+Idx} & the index of the context the program is associated with. Indices follow the order the contexts were created in. \\
\hline
\mbox{\tt in}  & {\em kernel\+\_\+filename} & a string with the name of the kernel file (.cl). \\
\hline
\mbox{\tt in}  & {\em kernel\+\_\+name} & the name of a requested kernel. \\
\hline
\mbox{\tt in}  & {\em build\+\_\+options} & options that are forwarded to the Open\+C\+L compiler. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The requested kernel. If kernel\+\_\+name is N\+U\+L\+L, the first kernel of the program gets returned. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{classclutils_1_1CLEnv_a05987337a3df8feb7ccfa749f5347fac}{add\+Program} 
\end{DoxySeeAlso}
\hypertarget{classclutils_1_1CLEnv_ac965d696bc25fb3bc95d601e0e157872}{}\index{clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}!add\+Queue@{add\+Queue}}
\index{add\+Queue@{add\+Queue}!clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}}
\subsubsection[{add\+Queue}]{\setlength{\rightskip}{0pt plus 5cm}cl\+::\+Command\+Queue \& clutils\+::\+C\+L\+Env\+::add\+Queue (
\begin{DoxyParamCaption}
\item[{unsigned int}]{ct\+Idx, }
\item[{unsigned int}]{d\+Idx}
\end{DoxyParamCaption}
)}\label{classclutils_1_1CLEnv_ac965d696bc25fb3bc95d601e0e157872}


Creates a queue for the specified device in the specified context. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ct\+Idx} & the index of the context the device is handled by. Indices follow the order the contexts were created in. \\
\hline
\mbox{\tt in}  & {\em d\+Idx} & the index of the device among those handled by the specified context. Indices follow the order the devices got returned in by the call to get\+Devices on the proper platform. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A reference to the created queue. 
\end{DoxyReturn}
\hypertarget{classclutils_1_1CLEnv_a939a2a5213fb9f7554ff789e83693577}{}\index{clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}!get\+Context@{get\+Context}}
\index{get\+Context@{get\+Context}!clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}}
\subsubsection[{get\+Context}]{\setlength{\rightskip}{0pt plus 5cm}cl\+::\+Context \& clutils\+::\+C\+L\+Env\+::get\+Context (
\begin{DoxyParamCaption}
\item[{unsigned int}]{p\+Idx = {\ttfamily 0}}
\end{DoxyParamCaption}
)}\label{classclutils_1_1CLEnv_a939a2a5213fb9f7554ff789e83693577}


Gets back one of the existing contexts. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em p\+Idx} & an index for the context. Indices follow the order the contexts were created in. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The requested context. 
\end{DoxyReturn}
\hypertarget{classclutils_1_1CLEnv_a3d8ed78d2a977da3e3468de81efe198d}{}\index{clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}!get\+Kernel@{get\+Kernel}}
\index{get\+Kernel@{get\+Kernel}!clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}}
\subsubsection[{get\+Kernel}]{\setlength{\rightskip}{0pt plus 5cm}cl\+::\+Kernel \& clutils\+::\+C\+L\+Env\+::get\+Kernel (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{kernel\+\_\+name, }
\item[{unsigned int}]{pg\+Idx = {\ttfamily 0}}
\end{DoxyParamCaption}
)}\label{classclutils_1_1CLEnv_a3d8ed78d2a977da3e3468de81efe198d}


Gets back one of the existing kernels in some program. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em kernel\+\_\+name} & the name of the kernel. \\
\hline
\mbox{\tt in}  & {\em pg\+Idx} & the index of the program the kernel belongs to. Indices follow the order the programs were created in. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The requested kernel. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
kernel\+Idx 
\end{DoxySeeAlso}
\hypertarget{classclutils_1_1CLEnv_a250da9d0e00e63294845b940c7fee376}{}\index{clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}!get\+Queue@{get\+Queue}}
\index{get\+Queue@{get\+Queue}!clutils\+::\+C\+L\+Env@{clutils\+::\+C\+L\+Env}}
\subsubsection[{get\+Queue}]{\setlength{\rightskip}{0pt plus 5cm}cl\+::\+Command\+Queue \& clutils\+::\+C\+L\+Env\+::get\+Queue (
\begin{DoxyParamCaption}
\item[{unsigned int}]{ct\+Idx = {\ttfamily 0}, }
\item[{unsigned int}]{q\+Idx = {\ttfamily 0}}
\end{DoxyParamCaption}
)}\label{classclutils_1_1CLEnv_a250da9d0e00e63294845b940c7fee376}


Gets back one of the existing command queues in the specified context. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ct\+Idx} & the index for the context the requested queue is in. Indices follow the order the contexts were created in. \\
\hline
\mbox{\tt in}  & {\em q\+Idx} & an index for the command queue. Indices follow the order the queues were created in. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The requested command queue. 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{CLUtils_8hpp}{C\+L\+Utils.\+hpp}\item 
\hyperlink{CLUtils_8cpp}{C\+L\+Utils.\+cpp}\end{DoxyCompactItemize}
